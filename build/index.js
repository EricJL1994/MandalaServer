(()=>{"use strict";var e={777:e=>{e.exports=JSON.parse('{"boulders":[{"dificultyName":"Orange","number":1,"holdColor":"Verde","dateValue":637546464000000000,"pending":false,"intersectionsName":[],"wall":2},{"dificultyName":"Pink","number":1,"holdColor":"Naranja","dateValue":637495488000000000,"pending":false,"intersectionsName":[],"wall":0},{"dificultyName":"Red","number":15,"holdColor":"Verde","dateValue":637495488000000000,"pending":false,"intersectionsName":[],"wall":0},{"dificultyName":"Green","number":1,"holdColor":"Verde","dateValue":637546944924350500,"pending":false,"intersectionsName":[],"wall":0},{"dificultyName":"Red","number":3,"holdColor":"Verde","dateValue":637546571578636900,"pending":false,"intersectionsName":[],"wall":0},{"dificultyName":"Red","number":2,"holdColor":"Verde","dateValue":637546571578636900,"pending":false,"intersectionsName":[],"wall":0},{"dificultyName":"Red","number":1,"holdColor":"Verde","dateValue":637546571578636900,"pending":false,"intersectionsName":[],"wall":0},{"dificultyName":"Green","number":3,"holdColor":"Blanco","dateValue":637495488000000000,"pending":false,"intersectionsName":[],"wall":0},{"dificultyName":"Orange","number":6,"holdColor":"Verde","dateValue":637495488000000000,"pending":false,"intersectionsName":[],"wall":0}],"traverses":[]}')},257:e=>{e.exports=require("lowdb")},35:e=>{e.exports=require("lowdb/adapters/FileSync")}},o={};function l(r){var n=o[r];if(void 0!==n)return n.exports;var a=o[r]={exports:{}};return e[r](a,a.exports,l),a.exports}(()=>{const e=require("express");var o=l(257)(new(l(35))(l(777))),r=e();console.log("Looks like we are in production mode!");var n=r.listen(3e3,(function(){return console.log("Server ready on http://localhost:3000/")}));process.on("SIGTERM",(function(){n.close((function(){console.log("Process terminated")}))})),r.get("/",(function(e,o){o.send("Hello world")})),r.get("/getproblems",(function(e,l){if(console.log("Request petition:"),console.log(e.query),e.query.color){var r=e.query.color.trim(),n=o.get("problems").filter({dificultyName:r});console.log("JSON procesado:"),console.log(JSON.parse(n)),l.send("Bloques y traves de color "+r+" son: "+n)}else l.send("DEVOLVER TODOS LOS BLOQUES Y LAS TRAVES (hay "+o.get("problems").size().value()+"): + "+o.get("problems").value().map((function(e){return e.dificultyName+"-"+e.number+"-"+(l=e.dateValue/1e4,r=Math.abs(new Date(0,0,1).setFullYear(1)),(o=new Date(l-r)).getDate()+"/"+o.getMonth()+"/"+o.getFullYear());var o,l,r})))})),r.post("/addproblem",(function(e,l){var r=JSON.parse(e.query.problem);console.log(r),o.get("problems").push(r).write(),l.status(200).send("Se ha insertado el nuevo problema")}))})()})();
//# sourceMappingURL=index.js.map